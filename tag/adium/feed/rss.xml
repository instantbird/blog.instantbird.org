<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>The blog of Instantbird's development - adium</title><link>https://blog.instantbird.org/</link><description></description><lastBuildDate>Thu, 16 Jun 2011 16:35:21 +0000</lastBuildDate><item><title>Introducing magicÂ copy</title><link>https://blog.instantbird.org/2011/06/introducing-magic-copy/</link><description>&lt;p&gt;The surprise and enthusiasm of a few people about the &amp;#8220;magic copy&amp;#8221;
feature I mentioned briefly at the end of &lt;a class="reference external" href="https://blog.instantbird.org/articles/introducing-time-bubbles.rst"&gt;my previous post&lt;/a&gt;
introducing time bubbles reminded me that we forgot to introduce this
feature when it landed for Instantbird 0.2 as part of our implementation
of &lt;a class="reference external" href="https://blog.instantbird.org/articles/instantbird-0-2-feature-preview-conversations-customization.rst"&gt;the Adium message theme system&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We decided to use this theme system because it seemed nice overall and
was already used by a few other clients as well. However there was
something we really didn&amp;#8217;t like: using a customized message theme could
make copied data from the conversation really hard to read, to the point
that it would be unsuitable for sending a quote via&amp;nbsp;email.&lt;/p&gt;
&lt;p&gt;As this may not be very clear yet, let me give an&amp;nbsp;example:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Copying from a conversation without the 'magic copy' feature" src="https://blog.instantbird.org/images/copy-normal.png" /&gt;&lt;/p&gt;
&lt;p&gt;This is the text we get when copying the selection to the clipboard and
pasting it. This is without our &amp;#8220;magic copy&amp;#8221; feature of&amp;nbsp;course.&lt;/p&gt;
&lt;p&gt;I should also note that the Bubbles theme used for this screenshot is
not the worst in this regards. I&amp;#8217;ve seen in the description of some
themes (not designed for Instantbird) that they were &amp;#8220;clipboard
friendly&amp;#8221;, which indicates the theme author took this problem into
account and probably had to make some trade-offs between the visual
appearance and the usability of copied&amp;nbsp;conversations.&lt;/p&gt;
&lt;p&gt;As we were not satisfied with this situation (which either makes copying
from the conversation poorly usable or restricts theme authors&amp;#8217;
creativity), we developed a different system that instead of serializing
the selected &lt;span class="caps"&gt;HTML&lt;/span&gt; attempts to detect which messages are selected, and to
&amp;#8220;prettyprint&amp;#8221; them based on what Instantbird knows about the message,
rather than what is visible and&amp;nbsp;selected.&lt;/p&gt;
&lt;p&gt;This is the&amp;nbsp;result:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Same conversation copied with magic copy" src="https://blog.instantbird.org/images/copy-magic.png" /&gt;&lt;/p&gt;
&lt;p&gt;If only a part of a single message was selected, the username and
timestamp won&amp;#8217;t be added to the copied strings, it will behave like a
normal text&amp;nbsp;copy:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Copying a part of a single message" src="https://blog.instantbird.org/images/copy-part-of-one-message.png" /&gt;&lt;/p&gt;
&lt;p&gt;As we detect which messages are selected and even know if each message
was fully selected or only in part, we can nicely add an ellipsis when
a message was&amp;nbsp;cut:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Ellipsis are added where messages are cut" src="https://blog.instantbird.org/images/copy-ellipsis.png" /&gt;&lt;/p&gt;
&lt;p&gt;This even works when using multiple-selections (press Ctrl on
Windows/Linux, and Command on Mac to do&amp;nbsp;this):&lt;/p&gt;
&lt;p&gt;&lt;img alt="Copying parts of multiple messages" src="https://blog.instantbird.org/images/copy-multi-select.png" /&gt;&lt;/p&gt;
&lt;p&gt;A few technical details: the template used to serialize copied messages
is both localizable and customizable from &lt;a class="reference external" href="about:config"&gt;about:config&lt;/a&gt;, it&amp;#8217;s also
possible to completely turn off this feature in case it ever causes some
trouble (look for the &lt;tt class="docutils literal"&gt;messenger.conversations.selections.*&lt;/tt&gt; family of
preferences in &lt;a class="reference external" href="about:config"&gt;about:config&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;This feature has been turned on by default in Instantbird for over a
year and nobody complained about it. Actually, it&amp;#8217;s one of the features
that is barely noticed because it just works, but it is something that
is really missed if using another &lt;span class="caps"&gt;IM&lt;/span&gt; client after using Instantbird for
a&amp;nbsp;while.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">flo</dc:creator><pubDate>Thu, 16 Jun 2011 16:35:21 +0000</pubDate><guid isPermaLink="false">tag:blog.instantbird.org,2011-06-16:/2011/06/introducing-magic-copy/</guid><category>Features</category><category>adium</category><category>user interface</category></item></channel></rss>